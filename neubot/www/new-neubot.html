<!-- neubot/www/neubot.html -->
<!--
 Copyright (c) 2010 Antonio Servetti <antonio.servetti@polito.it>,
  Politecnico di Torino

 Copyright (c) 2010 Simone Basso <bassosimone@gmail.com>,
  NEXA Center for Internet & Society at Politecnico di Torino

 This file is part of Neubot <http://www.neubot.org/>.

 Neubot is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 Neubot is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with Neubot.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/jquery-ui.js" type="text/javascript"></script>
    <script src="js/jquery.qtip.js" type="text/javascript"></script>
    <script src="js/jquery.jqplot.js" type="text/javascript"></script>

    <!-- not yet
    <script src="js/libneubot.js" type="text/javascript"></script>
    <script src="js/neubot.js" type="text/javascript"></script>
    -->
    <script src="libneubot.js" type="text/javascript"></script>
    <script src="new-neubot.js" type="text/javascript"></script>

    <title>Neubot 0.3.1 | Web interface</title>

    <link rel="shortcut icon" href="image/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="css/jquery.jqplot.css" />
    <link rel="stylesheet" type="text/css" href="new-neubot.css" />

      <!-- TODO move the following CSS-magic into neubot.css -->
    <style type="text/css">
table#state td, table#state th { padding: 2px; padding-right: 8px; padding-left: 8px;}
table#state th { color: #3da64e;}
table#state th#stateCol { width: 6.5em; }
table#state td { background-repeat: no-repeat; background-position: 0 .9em; }
table#state { margin-left: 5px; font-size: 0.9em; }
.entry-content dt { margin-left: -10px; padding-left: 20px;  background-repeat: no-repeat; background-position: 0 .9em; }
.entry-content dt, .secondary dt { float: left; clear: left; width: 9em;  }
.entry-content dd, .secondary dd { margin-left: 9em; text-align: right;}
.entry-content dl { margin: 0px 15px; line-height: 2em;}
#update { display: none; }
.help {
  border-bottom: 1px dotted #333;
  cursor: help;
}
    </style>
  </head>

  <body class="front not-logged-in page-node one-sidebar sidebar-right">
    <div id="page">

      <div id="header">
        <h1 class="blog-title">
         <a href="/new-neubot.html">Neubot web interface</a>
        </h1>
        <p class="description">
         The web-interface to control the neubot daemon
        </p>
        <ul class="k2menu">
          <li class="menu-191 active-trail first active">
            <a href="http://localhost:9774/new-neubot.html"
               title="Status" class="active">Status</a>
          </li>
          <li class="menu-192">
            <a href="http://localhost:9774/results.html"
               title="Your recent results">Your recent results</a>
          </li>
          <li class="menu-196">
            <a href="http://www.neubot.org/"
               title="Neubot web site">Neubot web site</a>
          </li>
          <li class="menu-199">
            <a href="http://localhost:9774/neubot.html"
               title="Old web interface">Old web interface</a>
          </li>
        </ul>
      </div>

      <hr />

      <div class="content">

        <!-- Taken from drupal and k2, therefore here we might have
          more DIVs than needed and one day we might want to merge -->
        <div id="primary-wrapper">
        <div id="primary">

        <div id="rollingcontent" class="hfeed">
        <div id="node-46" class="hentry node">
        <div class="entry-content">

          <p>
            Thank you for using neubot! You are gaining some understanding
            about your Internet Connection and helping the Internet Community
            to understand what is going on in the network.
          </p>

          <!-- It seems wrong to me to use H4 here -->
          <h4>Current Neubot status</h4>

          <p>
            This is the web interface to control the <em>neubot daemon</em>,
            that is running in background with pid <em><span id="pid">unknown
            </span></em> since <em><span id="since">unknown</span></em>.
            The following table provides some more details on the state of
            the daemon and highlights the current state.
          </p>

          <!-- Each row in the table has a different id because we need
            the make bold the line of the current state. -->
          <table id="state">
            <thead>
              <tr>
                <th></th>
                <th id="stateCol">State</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr id="idle">
                <td></td>
                <td>idle</td>
                <td>
                  The daemon is sleeping.  The next rendezvous will
                  start in <em><span id="next_rendezvous">unknown
                  </span></em>.
                </td>
              </tr>
              <tr id="rendezvous">
                <td></td>
                <td>rendezvous</td>
                <td>
                  The daemon is connecting to the <em>master server</em>
                  and retrieves test instructions and update information.
                </td>
              </tr>
              <tr id="negotiate">
                <td></td>
                <td>negotiate</td>
                <td>
                  The daemon is waiting for its turn to perform a
                  transmission test.  The last known position in queue
                  is <em><span id="queuePos">unknown</span></em> and there
                  are <em><span id="queueLen">unknown</span></em> neubots
                  in queue.
                </td>
              </tr>
              <tr id="test">
                <td></td>
                <td>test</td>
                <td>
                  The daemon is performing a transmission test.  The
                  name of the test is <em><span id="testName">
                  unknown</span></em>.
                </td>
              </tr>
              <tr id="collect">
                <td></td>
                <td>collect</td>
                <td>
                  The daemon is uploading the results of the latest
                  transmission test to the neubot project servers.
                </td>
              </tr>
            </tbody>
          </table>

          <br />

        </div>
        </div>
        </div>

        <!-- Do not move the plot inside the three DIVs above
          if you want the plot itself to make some sense -->
        <h4>Recent download and upload rates</h4>
        <div id="chartdiv1" style="width:100%;">
        </div>

        </div>
        </div>

        <div id="sidebar-1" class="secondary">

          <!-- Again the usage of H4 here seems to me improper. -->
          <div id="update" class="block-">
            <h4 style="text-align: center;">Updates available</h4>
            <p>
              Version <em><span id="updateVersion">unknown</span></em> is
              available for download from <em><span id="updateUrl">
              unknown</span></em>.
            </p>
          </div>

          <!-- XXX js/neubot.js will write directly into the H4
            of #testResultsBox and in general this box seems a place
            that needs some more separation between content and
            presentation love.
            XXX Also here we have testName1 because testName was
            already defined and we must find a better fix for that
            because to have two names like this is a crap. -->
          <div id="testResultsBox" class="block-">
            <h4 style="text-align: center;">Latest test details</h4>
            <p style="text-align: center; color: #3da64e; font-size: normal;">
              Result of <em><span id="testName1">unknown</span></em>
              <br /><span id="testTime"></span>
            </p>
            <dl>
              <dt>
                <span class="help"
                  title="Upper bound of the round-trip delay">Latency</span>
              </dt>
              <dd>
                <span id="latencyResult">???</span>
              </dd>
              <dt>Download speed</dt>
              <dd><span id="downloadResult">???</span></dd>
              <dt>Upload speed</dt>
              <dd><span id="uploadResult">???</span></dd>
            </dl>
          </div>

          <!-- Ok, so probably we should fix all H4s at once. -->
          <div id="about" class="block-">
            <h4>About</h4>
            <p>
              Neubot is based on a lightweight
              <a href="http://www.neubot.org/copying">open-source</a>
              program that runs in background and periodically
              performs transmission tests to probe your Internet
              connection using various application level protocols.
              <a href="http://www.neubot.org/faq">Read more</a>
            </p>
          </div>

        </div>

        <div class="clear">
        </div>
      </div>
      <div class="clear">
      </div>
    </div>

    <hr />

    <div id="footer">
      Neubot is a research project on network neutrality of the
      <a href="http://nexa.polito.it/">NEXA Center for Internet &amp;
      Society</a> at <a href="http://www.polito.it/">Politecnico di
      Torino</a>.
    </div>

  </body>
</html>
