rm -rf -- regress/success regress/failure
for FILE in $(find regress -type f -perm -0111); do		\
	    echo "* Running regression test: $FILE";			\
	    ./$FILE;							\
	    if [ $? -ne 0 ]; then					\
	        echo $FILE >> regress/failure;				\
	    else							\
	        echo $FILE >> regress/success;				\
	    fi;								\
	    echo "";							\
	    echo "";							\
	done
* Running regression test: regress/Makefile/install.sh
make[1]: Entering directory `/home/simone/neubot-0.4.15'
./scripts/cleanup
make[1]: Leaving directory `/home/simone/neubot-0.4.15'
make[1]: Entering directory `/home/simone/neubot-0.4.15'
find . -type f -name .DS_Store -exec rm {} \;
install -d dist/temp/bindir
install bin/neubot dist/temp/bindir/neubot
install -d dist/temp/datadir
for DIR in `cd UNIX/share && find . -mindepth 1 -type d`; do \
	    install -d dist/temp/datadir/$DIR; \
	    test $? || exit 1; \
	done
for FILE in `cd UNIX/share && find . -type f`; do \
	    install -m644 UNIX/share/$FILE dist/temp/datadir/$FILE; \
	    test $? || exit 1; \
	done
install -d dist/temp/mandir
for DIR in `cd UNIX/man && find . -mindepth 1 -type d`; do \
	    install -d dist/temp/mandir/$DIR; \
	    test $? || exit 1; \
	done
find UNIX/man -type f -name \*.gz | xargs rm -f
for FILE in `cd UNIX/man && find . -type f`; do \
	    gzip -9c UNIX/man/$FILE > UNIX/man/$FILE.gz; \
	    test $? || exit 1; \
	    install -m644 UNIX/man/$FILE.gz dist/temp/mandir/$FILE.gz; \
	    test $? || exit 1; \
	done
install -d dist/temp/sysconfdir
for DIR in `cd UNIX/etc && find . -mindepth 1 -type d`; do \
	    install -d dist/temp/sysconfdir/$DIR; \
	    test $? || exit 1; \
	done
for FILE in `cd UNIX/etc && find . -type f`; do \
	    install -m644 UNIX/etc/$FILE dist/temp/sysconfdir/$FILE; \
	    test $? || exit 1; \
	done
install -d dist/temp/datadir/neubot
for DIR in `find neubot -type d`; do \
	    install -d dist/temp/datadir/$DIR; \
	    test $? || exit 1; \
	done
for FILE in `find neubot -type f`; do \
	    install -m644 $FILE dist/temp/datadir/$FILE; \
	    test $? || exit 1; \
	done
install -d dist/temp/localstatedir/neubot
for PATTERN in 's|@BINDIR@|/bindir|g' 's|@DATADIR@|/datadir|g' \
	        's|@LOCALSTATEDIR@|/localstatedir|g' \
	        's|@SYSCONFDIR@|/sysconfdir|g' \
	        's|@USER@|root|g'; do \
	    ./scripts/sed_inplace $PATTERN \
	        dist/temp/bindir/neubot \
	        dist/temp/datadir/applications/neubot.desktop \
	        dist/temp/datadir/neubot/notifier/unix.py \
	        dist/temp/datadir/neubot/utils_hier.py \
	        dist/temp/datadir/neubot/system_posix.py \
	        dist/temp/datadir/neubot/viewer_webkit_gtk.py \
	        dist/temp/sysconfdir/xdg/autostart/neubot.desktop; \
	    test $? || exit 1; \
	done
make[1]: Leaving directory `/home/simone/neubot-0.4.15'

*** Success: `make install` works as expected


* Running regression test: regress/Debian/conflict
BEGIN: Create debian package...
make[1]: Entering directory `/home/simone/neubot-0.4.15'
./scripts/cleanup
make[1]: Leaving directory `/home/simone/neubot-0.4.15'
make[1]: Entering directory `/home/simone/neubot-0.4.15'
fakeroot make -f Makefile _deb
make[2]: Entering directory `/home/simone/neubot-0.4.15'
make -f Makefile _deb_data
make[3]: Entering directory `/home/simone/neubot-0.4.15'
make -f Makefile _install DESTDIR=dist/data PREFIX=/usr \
	    LOCALSTATEDIR=/var/lib SYSCONFDIR=/etc
make[4]: Entering directory `/home/simone/neubot-0.4.15'
find . -type f -name .DS_Store -exec rm {} \;
install -d dist/data/usr/bin
install bin/neubot dist/data/usr/bin/neubot
install -d dist/data/usr/share
for DIR in `cd UNIX/share && find . -mindepth 1 -type d`; do \
	    install -d dist/data/usr/share/$DIR; \
	    test $? || exit 1; \
	done
for FILE in `cd UNIX/share && find . -type f`; do \
	    install -m644 UNIX/share/$FILE dist/data/usr/share/$FILE; \
	    test $? || exit 1; \
	done
install -d dist/data/usr/share/man
for DIR in `cd UNIX/man && find . -mindepth 1 -type d`; do \
	    install -d dist/data/usr/share/man/$DIR; \
	    test $? || exit 1; \
	done
find UNIX/man -type f -name \*.gz | xargs rm -f
for FILE in `cd UNIX/man && find . -type f`; do \
	    gzip -9c UNIX/man/$FILE > UNIX/man/$FILE.gz; \
	    test $? || exit 1; \
	    install -m644 UNIX/man/$FILE.gz dist/data/usr/share/man/$FILE.gz; \
	    test $? || exit 1; \
	done
install -d dist/data/etc
for DIR in `cd UNIX/etc && find . -mindepth 1 -type d`; do \
	    install -d dist/data/etc/$DIR; \
	    test $? || exit 1; \
	done
for FILE in `cd UNIX/etc && find . -type f`; do \
	    install -m644 UNIX/etc/$FILE dist/data/etc/$FILE; \
	    test $? || exit 1; \
	done
install -d dist/data/usr/share/neubot
for DIR in `find neubot -type d`; do \
	    install -d dist/data/usr/share/$DIR; \
	    test $? || exit 1; \
	done
for FILE in `find neubot -type f`; do \
	    install -m644 $FILE dist/data/usr/share/$FILE; \
	    test $? || exit 1; \
	done
install -d dist/data/var/lib/neubot
for PATTERN in 's|@BINDIR@|/usr/bin|g' 's|@DATADIR@|/usr/share|g' \
	        's|@LOCALSTATEDIR@|/var/lib|g' \
	        's|@SYSCONFDIR@|/etc|g' \
	        's|@USER@|root|g'; do \
	    ./scripts/sed_inplace $PATTERN \
	        dist/data/usr/bin/neubot \
	        dist/data/usr/share/applications/neubot.desktop \
	        dist/data/usr/share/neubot/notifier/unix.py \
	        dist/data/usr/share/neubot/utils_hier.py \
	        dist/data/usr/share/neubot/system_posix.py \
	        dist/data/usr/share/neubot/viewer_webkit_gtk.py \
	        dist/data/etc/xdg/autostart/neubot.desktop; \
	    test $? || exit 1; \
	done
make[4]: Leaving directory `/home/simone/neubot-0.4.15'
install -d dist/data/etc/apt/sources.list.d
install -m644 Debian/neubot.list dist/data/etc/apt/sources.list.d/
install -d dist/data/etc/cron.daily
install Debian/cron-neubot dist/data/etc/cron.daily/neubot
install -d dist/data/etc/init.d
install Debian/init-neubot dist/data/etc/init.d/neubot
install -d dist/data/usr/share/doc/neubot
install -m644 Debian/copyright dist/data/usr/share/doc/neubot/
install -m644 Debian/changelog.Debian.gz \
	    dist/data/usr/share/doc/neubot
make[3]: Leaving directory `/home/simone/neubot-0.4.15'
cd dist/data && tar czf ../data.tar.gz ./*
make -f Makefile _deb_control
make[3]: Entering directory `/home/simone/neubot-0.4.15'
install -d dist/control
install -m644 Debian/control/control dist/control/control
install -m644 Debian/control/conffiles dist/control/conffiles
install Debian/control/postinst dist/control/postinst
install Debian/control/prerm dist/control/prerm
install Debian/control/postrm dist/control/postrm
install -m644 /dev/null dist/control/md5sums
./scripts/cksum.py -a md5 `find dist/data -type f` >dist/control/md5sums
./scripts/sed_inplace 's|dist\/data\/||g' dist/control/md5sums
SIZE=`du -k -s dist/data/|cut -f1` && \
	 ./scripts/sed_inplace "s|@SIZE@|$SIZE|" dist/control/control
make[3]: Leaving directory `/home/simone/neubot-0.4.15'
cd dist/control && tar czf ../control.tar.gz ./*
echo '2.0' > dist/debian-binary
ar r dist/neubot-0.4.15-1_all.deb dist/debian-binary \
	 dist/control.tar.gz dist/data.tar.gz
ar: creating dist/neubot-0.4.15-1_all.deb
install -m644 Debian/control/control-nox dist/control/control
SIZE=`du -k -s dist/data/|cut -f1` && \
	 ./scripts/sed_inplace "s|@SIZE@|$SIZE|" dist/control/control
cd dist/control && tar czf ../control.tar.gz ./*
ar r dist/neubot-nox-0.4.15-1_all.deb dist/debian-binary \
	 dist/control.tar.gz dist/data.tar.gz
ar: creating dist/neubot-nox-0.4.15-1_all.deb
cd dist && rm -rf debian-binary control.tar.gz data.tar.gz \
         control/ data/
chmod 644 dist/neubot-0.4.15-1_all.deb
chmod 644 dist/neubot-nox-0.4.15-1_all.deb
make[2]: Leaving directory `/home/simone/neubot-0.4.15'
lintian dist/neubot-0.4.15-1_all.deb
warning: the authors of lintian do not recommend running it with root privileges!
W: neubot: embedded-javascript-library usr/share/neubot/www/js/jquery.min.js
# This still fails because of /usr/share/doc/neubot...
lintian dist/neubot-nox-0.4.15-1_all.deb || true
warning: the authors of lintian do not recommend running it with root privileges!
E: neubot-nox: no-copyright-file
W: neubot-nox: embedded-javascript-library usr/share/neubot/www/js/jquery.min.js
make[1]: Leaving directory `/home/simone/neubot-0.4.15'
END: Create debian package (OK)
BEGIN: Install debian package...
Selecting previously unselected package neubot.
(Reading database ... 165273 files and directories currently installed.)
Unpacking neubot (from dist/neubot-0.4.15-1_all.deb) ...
Setting up neubot (0.4.15-1) ...
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
Starting neubot: /usr/bin/neubot start
Processing triggers for ureadahead ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for man-db ...
END: Install debian package (OK)
*** Please close the notification window...
BEGIN: Try to install -nox package...
Selecting previously unselected package neubot-nox.
dpkg: regarding .../neubot-nox-0.4.15-1_all.deb containing neubot-nox:
 neubot-nox conflicts with neubot
  neubot (version 0.4.15-1) is present and installed.
dpkg: error processing dist/neubot-nox-0.4.15-1_all.deb (--install):
 conflicting packages - not installing neubot-nox
Errors were encountered while processing:
 dist/neubot-nox-0.4.15-1_all.deb
BEGIN: Try to install -nox package (OK)
BEGIN: Cleanup...
(Reading database ... 165487 files and directories currently installed.)
Removing neubot ...
Stopping neubot: /usr/bin/neubot stop
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
Purging configuration files for neubot ...
 Removing any system startup links for /etc/init.d/neubot ...
Processing triggers for man-db ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for ureadahead ...
END: Cleanup (OK)
BEGIN: Install the -nox package...
(Reading database ... 165273 files and directories currently installed.)
Unpacking neubot-nox (from .../neubot-nox-0.4.15-1_all.deb) ...
Setting up neubot-nox (0.4.15-1) ...
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
Starting neubot: /usr/bin/neubot start
Processing triggers for ureadahead ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for man-db ...
END: Install the -nox package (OK)
*** Please close the notification window...
BEGIN: Try to install the normal package...
Selecting previously unselected package neubot.
dpkg: regarding dist/neubot-0.4.15-1_all.deb containing neubot:
 neubot conflicts with neubot-nox
  neubot-nox (version 0.4.15-1) is present and installed.
dpkg: error processing dist/neubot-0.4.15-1_all.deb (--install):
 conflicting packages - not installing neubot
Errors were encountered while processing:
 dist/neubot-0.4.15-1_all.deb
BEGIN: Try to install the normal package (OK)
BEGIN: Cleanup...
(Reading database ... 165487 files and directories currently installed.)
Removing neubot-nox ...
Stopping neubot: /usr/bin/neubot stop
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
Purging configuration files for neubot-nox ...
 Removing any system startup links for /etc/init.d/neubot ...
Processing triggers for man-db ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for ureadahead ...
END: Cleanup (OK)


* Running regression test: regress/Debian/control/postrm
BEGIN: cleanup
 Removing any system startup links for /etc/init.d/neubot ...
END: cleanup
BEGIN: Initialize...
update-rc.d: warning: /etc/init.d/neubot missing LSB information
update-rc.d: see <http://wiki.debian.org/LSBInitScripts>
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: Initialize (OK)
BEGIN: Make sure that it removes /etc/rcN.d symlinks...
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
END: Make sure that it removes /etc/rcN.d symlinks (OK)
BEGIN: Initialize...
update-rc.d: warning: /etc/init.d/neubot missing LSB information
update-rc.d: see <http://wiki.debian.org/LSBInitScripts>
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: Initialize (OK)
BEGIN: Make sure it ALSO removes /var/lib/neubot on purge...
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
END: Make sure it ALSO removes /var/lib/neubot on purge (OK)
BEGIN: cleanup
 Removing any system startup links for /etc/init.d/neubot ...
END: cleanup


* Running regression test: regress/Debian/control/prerm
BEGIN: cleanup
END: cleanup
BEGIN: run viewer and notifier
END: run viewer and notifier (OK)
Install fake /etc/init.d/neubot... OK
Setup and compile /usr/share/neubot... OK
Create _neubot group and _user... OK
BEGIN: run Debian/control/prerm
END: run Debian/control/prerm (OK)
Make sure that notifier and viewer have been stopped... OK
Make sure that /etc/init.d/neubot have been invoked... OK
Make sure that /usr/share/neubot is still there... OK
Make sure that *.pyc files have been removed... OK
Make sure that user and group have been deleted... OK
BEGIN: cleanup
END: cleanup


* Running regression test: regress/Debian/control/postinst
*** Test with no database
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
OK
END: start from scratch (OK)
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
*** Please close the notification window...
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)

*** Test with good database
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with good privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure NOT -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)

*** Test with bad database
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with bad privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
*** Please close the notification window...
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with bad privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
*** Please close the notification window...
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with bad privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
*** Please close the notification window...
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with bad privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
*** Please close the notification window...
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with bad privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
*** Please close the notification window...
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with bad privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
*** Please close the notification window...
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)
BEGIN: start from scratch
 Removing any system startup links for /etc/init.d/neubot ...
END: start from scratch (OK)
Create database with bad privacy... OK
Setup /usr/share/neubot /etc/init.d/neubot /usr/bin/neubot... OK
BEGIN: run Debian/control/postinst
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
END: run Debian/control/postinst (OK)
Make sure that /usr/share/neubot was compiled... OK
Make sure that _neubot group was created... OK
Make sure that _neubot user was created... OK
Make sure that symlinks were created in /etc/rcN.d... OK
Make sure that the key was installed... OK
BEGIN: Make sure that the script is idempotent
 System start/stop links for /etc/init.d/neubot already exist.
END: Make sure that the script is idempotent (OK)
Make sure -f /var/lib/update-notifier/user.d/neubot... OK
Make sure that neubot is started... OK
BEGIN: cleanup everything
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
OK
END: cleanup everything (OK)

*** Done


* Running regression test: regress/Debian/inst
BEGIN: Create debian package...
END: Create debian package (OK)
BEGIN: Install debian package...
(Reading database ... 165273 files and directories currently installed.)
Unpacking neubot (from dist/neubot-0.4.15-1_all.deb) ...
Setting up neubot (0.4.15-1) ...
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
Starting neubot: /usr/bin/neubot start
Processing triggers for ureadahead ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for man-db ...
END: Install debian package (OK)
*** Please close the notification window...
BEGIN: Cleanup...
(Reading database ... 165487 files and directories currently installed.)
Removing neubot ...
Stopping neubot: /usr/bin/neubot stop
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
Purging configuration files for neubot ...
 Removing any system startup links for /etc/init.d/neubot ...
Processing triggers for man-db ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for ureadahead ...
END: Cleanup (OK)


* Running regression test: regress/Debian/reinst
BEGIN: Create debian package...
END: Create debian package (OK)
BEGIN: Install debian package...
Selecting previously unselected package neubot.
(Reading database ... 165273 files and directories currently installed.)
Unpacking neubot (from dist/neubot-0.4.15-1_all.deb) ...
Setting up neubot (0.4.15-1) ...
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
Starting neubot: /usr/bin/neubot start
Processing triggers for ureadahead ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for man-db ...
END: Install debian package (OK)
*** Please close the window that asks to update privacy settings...
BEGIN: Stop, update privacy and restart...
Stopping neubot: /usr/bin/neubot stop
*** Database changed.  Please, restart Neubot.
Starting neubot: /usr/bin/neubot start
END: Stop, update privacy and restart (OK)
BEGIN: Start the viewer and the notifier...
END: Start the viewer and the notifier... (OK)
BEGIN: Reinstall debian package...
(Reading database ... 165488 files and directories currently installed.)
Preparing to replace neubot 0.4.15-1 (using dist/neubot-0.4.15-1_all.deb) ...
WARNING: utils_rc: [Errno 2] No such file or directory: '/etc/neubot/api'
Stopping neubot: /usr/bin/neubot stop
Unpacking replacement neubot ...
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
Setting up neubot (0.4.15-1) ...
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
Starting neubot: /usr/bin/neubot start
Processing triggers for ureadahead ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for man-db ...
END: Reinstall debian package (OK)
BEGIN: Cleanup...
(Reading database ... 165487 files and directories currently installed.)
Removing neubot ...
Stopping neubot: /usr/bin/neubot stop
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
Purging configuration files for neubot ...
 Removing any system startup links for /etc/init.d/neubot ...
Processing triggers for man-db ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for ureadahead ...
END: Cleanup (OK)
BEGIN: Create debian package...
END: Create debian package (OK)
BEGIN: Install debian package...
Selecting previously unselected package neubot.
(Reading database ... 165273 files and directories currently installed.)
Unpacking neubot (from dist/neubot-0.4.15-1_all.deb) ...
Setting up neubot (0.4.15-1) ...
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
Starting neubot: /usr/bin/neubot start
Processing triggers for ureadahead ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for man-db ...
END: Install debian package (OK)
*** Please close the window that asks to update privacy settings...
BEGIN: Start the viewer and the notifier...
END: Start the viewer and the notifier... (OK)
WARNING: utils_rc: [Errno 2] No such file or directory: '/etc/neubot/api'
BEGIN: Reinstall debian package...
(Reading database ... 165488 files and directories currently installed.)
Preparing to replace neubot 0.4.15-1 (using dist/neubot-0.4.15-1_all.deb) ...
Stopping neubot: /usr/bin/neubot stop
Unpacking replacement neubot ...
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
Setting up neubot (0.4.15-1) ...
 Adding system startup for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot -> ../init.d/neubot
   /etc/rc1.d/K99neubot -> ../init.d/neubot
   /etc/rc6.d/K99neubot -> ../init.d/neubot
   /etc/rc2.d/S99neubot -> ../init.d/neubot
   /etc/rc3.d/S99neubot -> ../init.d/neubot
   /etc/rc4.d/S99neubot -> ../init.d/neubot
   /etc/rc5.d/S99neubot -> ../init.d/neubot
Starting neubot: /usr/bin/neubot start
Processing triggers for ureadahead ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for man-db ...
END: Reinstall debian package (OK)
BEGIN: Cleanup...
(Reading database ... 165487 files and directories currently installed.)
Removing neubot ...
Stopping neubot: /usr/bin/neubot stop
 Removing any system startup links for /etc/init.d/neubot ...
   /etc/rc0.d/K99neubot
   /etc/rc1.d/K99neubot
   /etc/rc2.d/S99neubot
   /etc/rc3.d/S99neubot
   /etc/rc4.d/S99neubot
   /etc/rc5.d/S99neubot
   /etc/rc6.d/K99neubot
Purging configuration files for neubot ...
 Removing any system startup links for /etc/init.d/neubot ...
Processing triggers for man-db ...
Processing triggers for bamfdaemon ...
Rebuilding /usr/share/applications/bamf.index...
Processing triggers for desktop-file-utils ...
Processing triggers for gnome-menus ...
Processing triggers for hicolor-icon-theme ...
Processing triggers for ureadahead ...
END: Cleanup (OK)


* Running regression test: regress/neubot/filesys_posix.sh
Initialize test...OK
Create /A/B/C in /tmp/neubot with owner nobody...OK
Make sure /tmp/neubot type, permissions and owner are OK...YES
Make sure /tmp/neubot/A type, permissions and owner are OK...YES
Make sure /tmp/neubot/A/B type, permissions and owner are OK...YES
Make sure /tmp/neubot/A/B/C permissions and owner are OK...YES
Create /A/B/D in /tmp/neubot with owner nobody...OK
Make sure /tmp/neubot/A/B/D permissions and owner are OK...YES
Create /A/K/D in /tmp/neubot with owner nobody...OK
Make sure /tmp/neubot/A/K type, permissions and owner are OK...YES
Make sure /tmp/neubot/A/K/D permissions and owner are OK...YES
Cleanup after test...OK


* Running regression test: regress/neubot/runner_tests.py
.WARNING:root:runner_hosts: no dynamically discovered host: fallback to static host table
WARNING:root:runner_hosts: selecting one static host at random (which may possibly be down)
.
----------------------------------------------------------------------
Ran 2 tests in 0.001s

OK


* Running regression test: regress/neubot/log.py
INFO w/ logging.info
WARNING: WARNING w/ logging.warning
ERROR: ERROR w/ logging.error
Test access logger
ERROR: EXCEPTION
ERROR: Traceback (most recent call last):
ERROR:   File "./regress/neubot/log.py", line 53, in <module>
ERROR:     raise Exception("Testing exc_info")
ERROR: Exception: Testing exc_info
ERROR: OOPS: Testing the new oops feature (traceback follows)
ERROR:   File "./regress/neubot/log.py", line 59, in <module>
    oops("Testing the new oops feature")
WARNING: WARNING variadic warning


* Running regression test: regress/neubot/database/migrate.sh


* Running regression test: regress/neubot/database/table_config.py
.
----------------------------------------------------------------------
Ran 1 test in 0.002s

OK
{"version": "4.5", "uuid": "37af4e87-c20e-49a3-9d23-575f1f1b9675"}


* Running regression test: regress/neubot/database/table_bittorrent.py
.
----------------------------------------------------------------------
Ran 1 test in 0.022s

OK


* Running regression test: regress/neubot/database/version.sh


* Running regression test: regress/neubot/database/table_speedtest.py
.
----------------------------------------------------------------------
Ran 1 test in 0.011s

OK


* Running regression test: regress/neubot/database/_table_utils.py
.
----------------------------------------------------------------------
Ran 1 test in 0.001s

OK


* Running regression test: regress/neubot/privacy.py
.....
.. :Version: 2.0.3

The Neubot project is a research effort that aims to study the quality
and neutrality of ordinary users' Internet connections, to rebalance the
information asymmetry between them and Service Providers.  The Neubot
software (i) *measures* the quality and neutrality of your Internet
connection.  The raw measurement results are (ii) *collected* on the
measurement servers for research purposes and (iii) *published*, to allow
other individuals and institutions to reuse them for research purposes.

To *measure* the quality and neutrality of your Internet connection,
the Neubot software does not monitor or analyze your Internet traffic.
It just uses a fraction of your connection capacity to perform background
transmission tests, sending and/or receiving random data.  The results
contain the measured performance metrics, such as the download speed,
or the latency, as well as your computer load, as a percentage, and
*your Internet address*.

The Internet address is paramount because it allows to *infer your Internet
Service Provider* and to have a rough idea of *your location*, allowing to
put the results in context.  The Neubot project needs to *collect* it
to study the data and wants to *publish* it to enable other individuals
and institutions to carry alternative studies and/or peer-review its
measurements and data analysis methodology.  This is coherent with the
policy of the distributed server platform that empowers the Neubot
project, Measurement Lab (M-Lab), which requires all results to be
released as open data [1]_.

You are reading this privacy policy because Neubot is developed in the
European Union, where there is consensus that Internet addresses are
*personal data*.  This means that the Neubot project cannot store, process
or publish your address without your prior *informed consent*, under the
provisions of the "Codice in materia di protezione dei dati personali"
(Decree 196/03) [2]_.  In accordance with the law, data controller is the
NEXA Center for Internet & Society [3]_, represented by its co-director Juan
Carlos De Martin.

Via its web interface [4]_, the Neubot software asks you (a) to explicitly
assert that you are *informed*, i.e. that you have read the privacy
policy, (b) to give it the permission to *collect* and (c) *publish* your
IP address.  If you don't assert (a) and you don't give the permission
to do (b) and (c), Neubot cannot run tests because, if it did, it would
violate privacy laws and/or Measurement Lab policy.

The data controller guarantees you the rights as per Art. 7 of the
above-mentioned Decree 196/03.  Basically, you have total control over
you personal data, and you can, for example, inquire Neubot to remove
your Internet address from its data sets.  To exercise your rights, please
write to <privacy@neubot.org> or to "NEXA Center for Internet & Society,
Dipartimento di Automatica e Infomatica, Politecnico di Torino, Corso Duca
degli Abruzzi 24, 10129 Turin, ITALY."

.. [1] http://www.measurementlab.net/about
.. [2] http://www.garanteprivacy.it/garante/doc.jsp?ID=1311248
.. [3] http://nexa.polito.it/
.. [4] http://127.0.0.1:9774/privacy.html

*** Database changed.  Please, restart Neubot.

Usage: neubot privacy [-Pt] [-D name=value] [-f database]

Options:
    -D name=value       : Set privacy setting value
    -f database         : Force database path
    -P                  : Print privacy policy on stdout
    -t                  : Test privacy settings

Settings:
    privacy.informed    : You have read Neubot's privacy policy
    privacy.can_collect : Neubot can save your IP address
    privacy.can_publish : Neubot can publish your IP address

Neubot is not allowed to use the distributed M-Lab platform to perform
tests unless you (i) assert that you have read the privacy policy and
you provide the permission to (ii) collect and (iii) publish your Internet
address.  We need to ask you (i), (ii) and (iii) explicitly to comply
with European Union privacy laws.

Current database: :memory:
Current settings:
    privacy.can_collect : 5
    privacy.informed    : 4
    ..........WARNING unknown setting: foo
.
----------------------------------------------------------------------
Ran 16 tests in 0.109s

OK
privacy.can_publish : 6

*** Database changed.  Please, restart Neubot.


* Running regression test: regress/neubot/utils_posix.sh
Make sure getpwnam correctly reports the uid...YES
Make sure getpwnam correctly reports the gid...YES
Make sure getpwnam fails for nonexistent users...YES
Initializing mkdir test...OK
Make sure mkdir can create a new directory...YES
Make sure the directory was actually created...YES
Make sure directory permissions are OK...YES
Make sure directory user is OK...YES
Make sure directory group is OK...YES
Make sure mkdir is idempotent...YES
Initializing permissions test...OK
Make sure mkdir updates permissions...YES
Make sure mkdir updates ownership...YES
Make sure touch can create a new file...YES
Make sure the file was actually created...YES
Make sure file permissions are OK...YES
Make sure file user is OK...YES
Make sure file group is OK...YES
Make sure touch is idempotent...YES
Initializing permissions test...OK
Make sure touch updates permissions...YES
Make sure touch updates ownership...YES
Make sure touch bails out if the target exists and is not a file...YES
Make sure mkdir bails out if the target exists and is not a file...YES
After-test cleanup...OK


* Running regression test: regress/neubot/runner_core.py
...ERROR: runner_core: catched exception: Traceback (most recent call last):
  File "./neubot/defer.py", line 78, in callback
    argument = func(argument)
  File "./neubot/runner_core.py", line 130, in _do_run_queue
    raise RuntimeError('runner_core: bad privacy settings')
RuntimeError: runner_core: bad privacy settings
..
----------------------------------------------------------------------
Ran 5 tests in 0.002s

OK


* Running regression test: regress/neubot/utils_random.py
Time to import: 171.8 ms
Elapsed: 1.4 s
Speed: 5.9 Gbit/s


* Running regression test: regress/neubot/runner_api.py
.....
----------------------------------------------------------------------
Ran 5 tests in 0.001s

OK


* Running regression test: regress/neubot/config.py
.....
----------------------------------------------------------------------
Ran 5 tests in 0.016s

OK


* Running regression test: regress/neubot/poller.py
WARNING:root:Watchdog timeout: stream 217
WARNING:root:Watchdog timeout: stream 131
WARNING:root:Watchdog timeout: stream 219
WARNING:root:Watchdog timeout: stream 221
WARNING:root:Watchdog timeout: stream 223
WARNING:root:Watchdog timeout: stream 225
WARNING:root:Watchdog timeout: stream 175
WARNING:root:Watchdog timeout: stream 227
WARNING:root:Watchdog timeout: stream 229
WARNING:root:Watchdog timeout: stream 133
WARNING:root:Watchdog timeout: stream 231
WARNING:root:Watchdog timeout: stream 233
WARNING:root:Watchdog timeout: stream 235
WARNING:root:Watchdog timeout: stream 237
WARNING:root:Watchdog timeout: stream 177
WARNING:root:Watchdog timeout: stream 239
WARNING:root:Watchdog timeout: stream 241
WARNING:root:Watchdog timeout: stream 135
WARNING:root:Watchdog timeout: stream 243
WARNING:root:Watchdog timeout: stream 245
WARNING:root:Watchdog timeout: stream 247
WARNING:root:Watchdog timeout: stream 249
WARNING:root:Watchdog timeout: stream 179
WARNING:root:Watchdog timeout: stream 251
WARNING:root:Watchdog timeout: stream 253
WARNING:root:Watchdog timeout: stream 137
WARNING:root:Watchdog timeout: stream 255
WARNING:root:Watchdog timeout: stream 181
WARNING:root:Watchdog timeout: stream 139
WARNING:root:Watchdog timeout: stream 183
WARNING:root:Watchdog timeout: stream 141
WARNING:root:Watchdog timeout: stream 185
WARNING:root:Watchdog timeout: stream 143
WARNING:root:Watchdog timeout: stream 187
WARNING:root:Watchdog timeout: stream 145
WARNING:root:Watchdog timeout: stream 189
WARNING:root:Watchdog timeout: stream 147
WARNING:root:Watchdog timeout: stream 191
WARNING:root:Watchdog timeout: stream 149
WARNING:root:Watchdog timeout: stream 193
WARNING:root:Watchdog timeout: stream 151
WARNING:root:Watchdog timeout: stream 89
WARNING:root:Watchdog timeout: stream 195
WARNING:root:Watchdog timeout: stream 91
WARNING:root:Watchdog timeout: stream 93
WARNING:root:Watchdog timeout: stream 153
WARNING:root:Watchdog timeout: stream 95
WARNING:root:Watchdog timeout: stream 97
WARNING:root:Watchdog timeout: stream 99
WARNING:root:Watchdog timeout: stream 101
WARNING:root:Watchdog timeout: stream 197
WARNING:root:Watchdog timeout: stream 103
WARNING:root:Watchdog timeout: stream 105
WARNING:root:Watchdog timeout: stream 155
WARNING:root:Watchdog timeout: stream 107
WARNING:root:Watchdog timeout: stream 109
WARNING:root:Watchdog timeout: stream 111
WARNING:root:Watchdog timeout: stream 113
WARNING:root:Watchdog timeout: stream 199
WARNING:root:Watchdog timeout: stream 115
WARNING:root:Watchdog timeout: stream 117
WARNING:root:Watchdog timeout: stream 157
WARNING:root:Watchdog timeout: stream 119
WARNING:root:Watchdog timeout: stream 121
WARNING:root:Watchdog timeout: stream 123
WARNING:root:Watchdog timeout: stream 201
WARNING:root:Watchdog timeout: stream 127
WARNING:root:Watchdog timeout: stream 129
WARNING:root:Watchdog timeout: stream 159
WARNING:root:Watchdog timeout: stream 1
WARNING:root:Watchdog timeout: stream 3
WARNING:root:Watchdog timeout: stream 5
WARNING:root:Watchdog timeout: stream 7
WARNING:root:Watchdog timeout: stream 203
WARNING:root:Watchdog timeout: stream 9
WARNING:root:Watchdog timeout: stream 11
WARNING:root:Watchdog timeout: stream 161
WARNING:root:Watchdog timeout: stream 13
WARNING:root:Watchdog timeout: stream 15
WARNING:root:Watchdog timeout: stream 17
WARNING:root:Watchdog timeout: stream 43
WARNING:root:Watchdog timeout: stream 19
WARNING:root:Watchdog timeout: stream 205
WARNING:root:Watchdog timeout: stream 21
WARNING:root:Watchdog timeout: stream 23
WARNING:root:Watchdog timeout: stream 163
WARNING:root:Watchdog timeout: stream 25
WARNING:root:Watchdog timeout: stream 27
WARNING:root:Watchdog timeout: stream 29
WARNING:root:Watchdog timeout: stream 31
WARNING:root:Watchdog timeout: stream 207
WARNING:root:Watchdog timeout: stream 33
WARNING:root:Watchdog timeout: stream 35
WARNING:root:Watchdog timeout: stream 165
WARNING:root:Watchdog timeout: stream 37
WARNING:root:Watchdog timeout: stream 39
WARNING:root:Watchdog timeout: stream 41
WARNING:root:Watchdog timeout: stream 45
WARNING:root:Watchdog timeout: stream 47
WARNING:root:Watchdog timeout: stream 209
WARNING:root:Watchdog timeout: stream 49
WARNING:root:Watchdog timeout: stream 51
WARNING:root:Watchdog timeout: stream 167
WARNING:root:Watchdog timeout: stream 53
WARNING:root:Watchdog timeout: stream 55
WARNING:root:Watchdog timeout: stream 125
WARNING:root:Watchdog timeout: stream 57
WARNING:root:Watchdog timeout: stream 59
WARNING:root:Watchdog timeout: stream 211
WARNING:root:Watchdog timeout: stream 61
WARNING:root:Watchdog timeout: stream 63
WARNING:root:Watchdog timeout: stream 169
WARNING:root:Watchdog timeout: stream 65
WARNING:root:Watchdog timeout: stream 67
WARNING:root:Watchdog timeout: stream 69
WARNING:root:Watchdog timeout: stream 71
WARNING:root:Watchdog timeout: stream 213
WARNING:root:Watchdog timeout: stream 73
WARNING:root:Watchdog timeout: stream 75
WARNING:root:Watchdog timeout: stream 171
WARNING:root:Watchdog timeout: stream 77
WARNING:root:Watchdog timeout: stream 79
WARNING:root:Watchdog timeout: stream 81
WARNING:root:Watchdog timeout: stream 83
WARNING:root:Watchdog timeout: stream 215
WARNING:root:Watchdog timeout: stream 85
WARNING:root:Watchdog timeout: stream 87
WARNING:root:Watchdog timeout: stream 173
.WARNING:root:Watchdog timeout: stream 1
.WARNING:root:Watchdog timeout: stream 1
.
----------------------------------------------------------------------
Ran 3 tests in 0.020s

OK


* Running regression test: regress/neubot/negotiate/smoke.sh
This test cannot run automatically
Usage: ./regress/neubot/negotiate/smoke.sh [-9|--kill|--server]


* Running regression test: regress/neubot/negotiate/server.py
.............ERROR: Exception
ERROR: Traceback (most recent call last):
ERROR:   File "./neubot/negotiate/server.py", line 204, in _update_queue
ERROR:     self._do_negotiate((stream, request, position))
ERROR:   File "./regress/neubot/negotiate/server.py", line 270, in _do_negotiate
ERROR:     raise RuntimeError()
ERROR: RuntimeError
.....
----------------------------------------------------------------------
Ran 18 tests in 0.013s

OK


* Running regression test: regress/neubot/utils_version.py
....
----------------------------------------------------------------------
Ran 4 tests in 0.002s

OK


* Running regression test: regress/neubot/net/stream.py
.....................
----------------------------------------------------------------------
Ran 21 tests in 0.078s

OK


* Running regression test: regress/neubot/state.py
......
----------------------------------------------------------------------
Ran 6 tests in 0.001s

OK


* Running regression test: regress/neubot/utils_path.py
.............................
----------------------------------------------------------------------
Ran 29 tests in 0.004s

OK


* Running regression test: regress/neubot/bittorrent/btsched.py
....
----------------------------------------------------------------------
Ran 4 tests in 0.072s

OK


* Running regression test: regress/neubot/bittorrent/config.py
.....
----------------------------------------------------------------------
Ran 5 tests in 0.004s

OK


* Running regression test: regress/neubot/bittorrent/stream.py
.......
----------------------------------------------------------------------
Ran 7 tests in 1.877s

OK


* Running regression test: regress/neubot/http/rootdir.sh
make[1]: Entering directory `/home/simone/neubot-0.4.15'
./scripts/cleanup
make[1]: Leaving directory `/home/simone/neubot-0.4.15'


* Running regression test: regress/neubot/defer.py
........
----------------------------------------------------------------------
Ran 8 tests in 0.019s

OK


* Running regression test: regress/neubot/ipv4mapped.sh


if [ -f regress/failure ]; then					\
	    echo "*** At least one regression test has failed";		\
	    echo "*** Check regress/failure for more info";		\
	    exit 1;							\
	fi
